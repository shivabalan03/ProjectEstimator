/*! ImprovedDate 1.0.0
 * Â©2018 E SYSTEMES - https://github.com/E-SYSTEMES/improved-date
 * Licensed under MIT (https://github.com/E-SYSTEMES/improved-date/blob/master/LICENSE)
 */
function ImprovedDate(t,e,a,o,r,i,n){void 0===t?this.date=new Date:void 0===e?this.date=new Date(t):(a=void 0!==a?a:1,o=void 0!==o?o:0,r=void 0!==r?r:0,i=void 0!==i?i:0,n=void 0!==n?n:0,this.date=new Date(t,e,a,o,r,i,n))}ImprovedDate.prototype.getYearDay=function(){var t=this.date.getFullYear(),e=this.date.getMonth(),a=this.date.getDate(),o=this.date.getTime(),r=new Date;r.setFullYear(t),r.setMonth(11),r.setDate(31),r=r.getTime();var i=[0,31,59,90,120,151,181,212,243,273,304,334],n=e<2?0:t%400==0||t%4==0&&t%100!=0;return[parseInt(a+i[e]+n),parseInt((r-o)/864e5)]},ImprovedDate.prototype.firstDayOfWeek=function(){var t=this.date.getFullYear(),e=this.date.getMonth(),a=this.date.getDate(),o=this.date.getDay(),r=(o+6)%7;return new Date(t,e,a-r)},ImprovedDate.prototype.getWeek=function(){var t=this.date.getFullYear(),e=this.date.getMonth(),a=this.date.getDate(),o,r=new ImprovedDate(t,11,31).firstDayOfWeek();if(this>=r&&r.getDate()>28)o=1;else{var i=new ImprovedDate(t,0,1).firstDayOfWeek();i.getFullYear()<t&&(i=new ImprovedDate(t,0,8).firstDayOfWeek());var n=this.getYearDay()[0]-new ImprovedDate(i.getFullYear(),i.getMonth(),i.getDate()).getYearDay()[0];n<0?o=new ImprovedDate(t,e,a+n).getWeek():(o=1+parseInt(n/7),o+=new ImprovedDate(t-1,11,31).firstDayOfWeek().getDate()>28)}return parseInt(o)},ImprovedDate.prototype.getMonthLength=function(){var t=this.date.getFullYear(),e=this.date.getMonth();return new Date(t,e+1,-1).getDate()+1},ImprovedDate.prototype.getNonWorkingDay=function(t){var e=this.date.getFullYear(),a=this.date.getMonth(),o=this.date.getDate(),r=this.date.getDay();t=void 0===t||t;var i=e%19,n=Math.floor(e/100),h=(n-Math.floor(n/4)-Math.floor((8*n+13)/25)+19*i+15)%30,d=h-Math.floor(h/28)*(1-Math.floor(h/28)*Math.floor(29/(h+1))*Math.floor((21-i)/11)),D=(1*e+Math.floor(e/4)+d+2-n+Math.floor(n/4))%7,s=d-D,g=3+Math.floor((s+40)/44),v=s-3*Math.floor(g/4);return 0===a&&1===o||(4===a&&1===o||(4===a&&8===o||(6===a&&14===o||(7===a&&15===o||(10===a&&1===o||(10===a&&11===o||(11===a&&25===o||(a===g-1&&o===v||(a===g-1&&o===v+1||(a===g-1&&o===v+39||(a===g-1&&o===v+49||(a===g-1&&o===v+50||!0===t&&(6===r||0===r)))))))))))))};